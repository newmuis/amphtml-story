(self.AMP=self.AMP||[]).push({n:"amp-story",v:"1496696194819",f:(function(AMP){function e(a,b){function d(){}d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;for(var c in b)if(Object.defineProperties){var k=Object.getOwnPropertyDescriptor(b,c);k&&Object.defineProperty(a,c,k)}else a[c]=b[c]};Date.now();self.log=self.log||{user:null,dev:null};function f(a,b,d){for(var c=a;c&&c!==d;c=c.parentElement)if(b(c))return c;return null};function g(a){AMP.BaseElement.apply(this,arguments)}e(g,AMP.BaseElement);g.prototype.isLayoutSupported=function(a){return"container"==a};AMP.registerElement("amp-story-grid-layer",g);function h(a){AMP.BaseElement.apply(this,arguments)}e(h,AMP.BaseElement);h.prototype.isLayoutSupported=function(a){return"container"==a};AMP.registerElement("amp-story-page",h);function l(a){AMP.BaseElement.call(this,a);this.c=this.getVsync()}e(l,AMP.BaseElement);l.prototype.buildCallback=function(){this.a=this.win.document.createElement("section");this.a.classList.add("i-amp-story-bookend");this.a.textContent="bookend goes here";this.element.appendChild(this.a);this.b=this.win.document.createElement("aside");this.b.classList.add("i-amp-story-system-layer");this.element.appendChild(this.b);this.element.addEventListener("click",this.f.bind(this),!0)};
l.prototype.isLayoutSupported=function(a){return"container"==a};function m(a){var b=a.element.querySelector("amp-story-page[active]");return b}
l.prototype.f=function(a){var b=this;if(n(this,a)){var d=.25*this.getViewport().getWidth();a.pageX>=d?this.c.mutate(function(){var a=m(b);a.nextElementSibling&&a.nextElementSibling!=b.a&&(a.nextElementSibling.setAttribute("active",""),a.removeAttribute("active"))}):this.c.mutate(function(){var a=m(b);a.previousElementSibling&&(a.previousElementSibling.setAttribute("active",""),a.removeAttribute("active"))});a.stopPropagation()}};
function n(a,b){return!f(b.target,function(b){return b===a.systemLayer||b===a.a},a.element)}AMP.registerElement("amp-story",l,'amp-story,amp-story-grid-layer,amp-story-page{contain:strict!important;overflow:hidden!important}amp-story{height:100%!important;position:relative!important;width:100%!important}body>amp-story{height:100vh!important}.i-amp-story-system-layer,amp-story-page{display:none!important}amp-story-page{bottom:0!important;left:0!important;position:absolute!important;right:0!important;top:0!important}amp-story-page[active]{display:block!important}amp-story-grid-layer{bottom:0!important;display:-ms-grid!important;display:grid!important;left:0!important;position:absolute!important;right:0!important;top:0!important}amp-story-grid-layer *{box-sizing:border-box!important;margin:0!important}amp-story-grid-layer[preset=fill]>:not(:first-child){display:none!important}amp-story-grid-layer[preset=fill]>:first-child{bottom:0!important;display:block!important;height:auto!important;left:0!important;position:absolute!important;right:0!important;top:0!important;width:auto!important}amp-story-grid-layer[preset=fill]>amp-anim img,amp-story-grid-layer[preset=fill]>amp-img img,amp-story-grid-layer[preset=fill]>amp-video video{-o-object-fit:cover!important;object-fit:cover!important}amp-story-grid-layer[preset=vertical]{-webkit-align-content:start;-ms-flex-line-pack:start;align-content:start;grid-auto-flow:row!important;-ms-grid-columns:auto!important;grid-template-columns:auto!important;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start}amp-story-grid-layer[preset=horizontal]{-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;grid-auto-flow:column!important;-ms-grid-rows:auto!important;grid-template-rows:auto!important;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start}amp-story-grid-layer[preset=thirds]{-ms-grid-rows:(auto)[3]!important;grid-template-rows:repeat(3,auto)!important;grid-template-areas:"upper-third" "middle-third" "lower-third"!important}.i-amp-story-bookend{display:none!important}\n/*# sourceURL=/extensions/amp-story/0.1/amp-story.css*/');
})});
//# sourceMappingURL=amp-story-0.1.js.map

